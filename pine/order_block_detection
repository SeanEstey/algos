//@version=3
study("Order Block Detection")
percentageDiff = input(3, "Required Percentage Move") * 0.01
pdiff = (open>close ? open/close : close/open) - 1
bcolor = na
pbcolor = na
if (pdiff > percentageDiff)
    // check prev bar
    if (open[1]>close[1] != open>close and pdiff / 2 > pdiff[1])
        pbcolor := yellow
        //bcolor := open>close ? red : green

barcolor(bcolor)
barcolor(pbcolor, offset=-1)
